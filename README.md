# ğŸ§  RAG Chat Storage Service

A Spring Bootâ€“based backend microservice designed to store and manage chat sessions and messages generated by a **Retrieval-Augmented Generation (RAG)** chatbot system.

This service focuses on **conversation persistence**, **session lifecycle management**, **secure API access**, and **scalability**, making it suitable for integration with any LLM or RAG-based application.

---

## âœ¨ Features

- âœ… Create, update, and delete chat sessions
- âœ… Store user and AI-generated messages for the session
- âœ… Retrieving chat messages - pagination support
- âœ… Persist RAG retrieved context and model metadata
- âœ… Centralized logging and error management
- âœ… API Keyâ€“based authentication
- âœ… Rate limiting to prevent API abuse, 10 api request per minute
- âœ… PostgreSQL persistence
- âœ… Swagger / OpenAPI documentation
- âœ… Clean layered architecture
- âœ… Dockerized for local setup 
- âœ… Dockerized for database management
- âœ… Unit testing
- âœ… Health check endpoint added

---

## ğŸ—ï¸ Tech Stack

- **Java 17**
- **Spring Boot**
- **Spring Data JPA (Hibernate)**
- **Spring Security**
- **PostgreSQL**
- **Swagger / OpenAPI**
- **Maven**
- **Docker**

---

## ğŸ“‚ Project Structure

rag-chat-storage
â”œâ”€â”€ controller # REST controllers
â”œâ”€â”€ service # Business logic
â”œâ”€â”€ repository # JPA repositories
â”œâ”€â”€ entity # JPA entities
â”œâ”€â”€ dto # Request / Response DTOs
â”œâ”€â”€ mapper # Entity â†” DTO mapping
â”œâ”€â”€ security # API key & rate limiting filters
â”œâ”€â”€ exception # Custom exceptions
â””â”€â”€ utils # Logging & helpers

## SETUP RAG CHAT STORAGE

**GitHub url -  https://github.com/arodenifa-dev/rag-chat-storage.git**
git clone https://github.com/arodenifa-dev/rag-chat-storage.git

## ğŸ³ Running the Application with Docker & pgAdmin ##

This project uses Docker Compose to run:

PostgreSQL database

pgAdmin (UI to browse PostgreSQL)

(Optionally) the Spring Boot application

ğŸ“¦ **Prerequisites**

Make sure you have the following installed:

Docker
ğŸ‘‰ https://www.docker.com/products/docker-desktop


Verify installation:

docker --version
docker compose version

ğŸ“ Docker Files Overview
rag-chat-storage
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Dockerfile          # (optional â€“ for Spring Boot app)
â””â”€â”€ README.md




â–¶ï¸ **Start Docker Containers**

docker compose build
docker compose up


## ğŸ“˜ Access endpoints through Swagger ##

This project uses Swagger UI (OpenAPI 3) to provide interactive API documentation for all available endpoints.
Swagger allows developers to:
View all available APIs
Understand request/response models
Test APIs directly from the browser

**ğŸ”— Accessing Swagger UI**

Once the application is running, Swagger UI is available at:

http://localhost:8080/swagger-ui/index.html
Authorize using key : super=key

## ğŸ—„ï¸ Access pgAdmin from browser (Database UI) ##
**Open in browser:**
[Open in browser:](http://localhost:8081/browser/)
**Login credentials:**
Email: admin@ragchat.com
Password: admin

server: rag-chat-postgres
database: rag-chat

ğŸ‰ You can now browse:

<!-- **ğŸ”Œ Connect pgAdmin to PostgreSQL**

Right-click Servers â†’ Register â†’ Server

General Tab

Name: rag-chat-postgres

Connection Tab

Host name/address: postgres

Port: 5432

Maintenance database: rag-chat

Username: postgres

Password: admin123

Click Save -->





